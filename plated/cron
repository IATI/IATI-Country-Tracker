#
# this script check for changes on the remote git and then perform a git pull followed by a build
# recomended to run under a flock like so (but with full paths)
# flock -w0 ./cron ./cron
#

cd `dirname $0`

source settings

git fetch --quiet

if [ $(git rev-parse HEAD) != $(git rev-parse @{u}) ] ; then

echo Need to fetch latest git changes from remote!

git pull --ff-only

./build

fi
