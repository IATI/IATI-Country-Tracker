!function(t,a){a.ctrack=t,t.codes={sector:{11110:"Education policy and administrative management",11120:"Education facilities and training",11130:"Teacher training",11182:"Educational research",11220:"Primary education",11230:"Basic life skills for youth and adults",11240:"Early childhood education",11320:"Secondary education",11330:"Vocational training",11420:"Higher education",11430:"Advanced technical and managerial training",12110:"Health policy and administrative management",12181:"Medical education/training",12182:"Medical research",12191:"Medical services",12220:"Basic health care",12230:"Basic health infrastructure",12240:"Basic nutrition",12250:"Infectious disease control",12261:"Health education",12262:"Malaria control",12263:"Tuberculosis control",12281:"Health personnel development",13010:"Population policy and administrative management",13020:"Reproductive health care",13030:"Family planning",13040:"STD control including HIV/AIDS",13081:"Personnel development for population and reproductive health",14010:"Water resources policy and administrative management",14015:"Water resources protection",14020:"Water supply and sanitation - large systems",14021:"Water supply - large systems ",14022:"Sanitation - large systems",14030:"Basic drinking water supply and basic sanitation",14031:"Basic drinking water supply",14032:"Basic sanitation",14040:"River development",14050:"Waste management/disposal",14081:"Education and training in water supply and sanitation",15110:"Economic and development policy/planning",15111:"Public finance management",15112:"Decentralisation and support to subnational government",15113:"Anti-corruption organisations and institutions",15120:"Public sector financial management",15130:"Legal and judicial development",15140:"Government administration",15150:"Democratic participation and civil society",15151:"Elections",15152:"Legislatures and political parties",15153:"Media and free flow of information",15160:"Human rights",15170:"Women's equality organisations and institutions *",15210:"Security system management and reform",15220:"Civilian peace-building, conflict prevention and resolution",15230:"Post-conflict peace-building (UN)",15240:"Reintegration and SALW control",15250:"Land mine clearance",15261:"Child soldiers (Prevention and demobilisation)",16010:"Social/ welfare services",16020:"Employment policy and administrative management",16030:"Housing policy and administrative management",16040:"Low-cost housing",16050:"Multisector aid for basic social services",16061:"Culture and recreation",16062:"Statistical capacity building",16063:"Narcotics control",16064:"Social mitigation of HIV/AIDS",21010:"Transport policy and administrative management",21020:"Road transport",21030:"Rail transport",21040:"Water transport",21050:"Air transport",21061:"Storage",21081:"Education and training in transport and storage",22010:"Communications policy and administrative management",22020:"Telecommunications",22030:"Radio/television/print media",22040:"Information and communication technology (ICT)",23010:"Energy policy and administrative management",23020:"Power generation/non-renewable sources",23030:"Power generation/renewable sources",23040:"Electrical transmission/ distribution",23050:"Gas distribution",23061:"Oil-fired power plants",23062:"Gas-fired power plants",23063:"Coal-fired power plants",23064:"Nuclear power plants",23065:"Hydro-electric power plants",23066:"Geothermal energy",23067:"Solar energy",23068:"Wind power",23069:"Ocean power",23070:"Biomass",23081:"Energy education/training",23082:"Energy research",24010:"Financial policy and administrative management",24020:"Monetary institutions",24030:"Formal sector financial intermediaries",24040:"Informal/semi-formal financial intermediaries",24081:"Education/training in banking and financial services",25010:"Business support services and institutions",25020:"Privatisation",31110:"Agricultural policy and administrative management",31120:"Agricultural development",31130:"Agricultural land resources",31140:"Agricultural water resources",31150:"Agricultural inputs",31161:"Food crop production",31162:"Industrial crops/export crops",31163:"Livestock",31164:"Agrarian reform",31165:"Agricultural alternative development",31166:"Agricultural extension",31181:"Agricultural education/training",31182:"Agricultural research",31191:"Agricultural services",31192:"Plant and post-harvest protection and pest control",31193:"Agricultural financial services",31194:"Agricultural co-operatives",31195:"Livestock/veterinary services",31210:"Forestry policy and administrative management",31220:"Forestry development",31261:"Fuelwood/charcoal",31281:"Forestry education/training",31282:"Forestry research",31291:"Forestry services",31310:"Fishing policy and administrative management",31320:"Fishery development",31381:"Fishery education/training",31382:"Fishery research",31391:"Fishery services",32110:"Industrial policy and administrative management",32120:"Industrial development",32130:"Small and medium-sized enterprises (SME) development",32140:"Cottage industries and handicraft",32161:"Agro-industries",32162:"Forest industries",32163:"Textiles, leather and substitutes",32164:"Chemicals",32165:"Fertilizer plants",32166:"Cement/lime/plaster",32167:"Energy manufacturing",32168:"Pharmaceutical production",32169:"Basic metal industries",32170:"Non-ferrous metal industries",32171:"Engineering",32172:"Transport equipment industry",32182:"Technological research and development",32210:"Mineral/mining policy and administrative management",32220:"Mineral prospection and exploration",32261:"Coal",32262:"Oil and gas",32263:"Ferrous metals",32264:"Nonferrous metals",32265:"Precious metals/materials",32266:"Industrial minerals",32267:"Fertilizer minerals",32268:"Offshore minerals",32310:"Construction policy and administrative management",33110:"Trade policy and administrative management",33120:"Trade facilitation",33130:"Regional trade agreements (RTAs)",33140:"Multilateral trade negotiations",33150:"Trade-related adjustment",33181:"Trade education/training",33210:"Tourism policy and administrative management",41010:"Environmental policy and administrative management",41020:"Biosphere protection",41030:"Bio-diversity",41040:"Site preservation",41050:"Flood prevention/control",41081:"Environmental education/ training",41082:"Environmental research",43010:"Multisector aid",43030:"Urban development and management",43040:"Rural development",43050:"Non-agricultural alternative development",43081:"Multisector education/training",43082:"Research/scientific institutions",51010:"General budget support",52010:"Food aid/Food security programmes",53030:"Import support (capital goods)",53040:"Import support (commodities)",60010:"Action relating to debt",60020:"Debt forgiveness",60030:"Relief of multilateral debt",60040:"Rescheduling and refinancing",60061:"Debt for development swap",60062:"Other debt swap",60063:"Debt buy-back",72010:"Material relief assistance and services",72040:"Emergency food aid",72050:"Relief co-ordination; protection and support services",73010:"Reconstruction relief and rehabilitation",74010:"Disaster prevention and preparedness",91010:"Administrative costs",92010:"Support to national NGOs",92020:"Support to international NGOs",92030:"Support to local and regional NGOs",93010:"Refugees in donor countries",99810:"Sectors not specified",99820:"Promotion of development awareness"},transaction_type:{C:"Commitment",D:"Disbursement",E:"Expenditure",IF:"Incoming Funds",IR:"Interest Repayment",LR:"Loan Repayment",R:"Reimbursement",QP:"Purchase of Equity",QS:"Sale of Equity",CG:"Credit Guarantee"},activity_status:{1:"Pipeline/identification",2:"Implementation",3:"Completion",4:"Post-completion",5:"Cancelled"},country:{AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AN:"Netherlands Antilles",AO:"Angola",AP:"African Regional Industrial Property Organization",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei Darussalem",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Saint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BU:"Burma",BV:"Bouvet Island",BW:"Botswana",BX:"Benelux Trademarks and Design Offices",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, the Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Côte d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CP:"Clipperton Island",CR:"Costa Rica",CS:"Serbia and Montenegro",CU:"Cuba",CV:"Cape Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DG:"Diego Garcia",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DY:"Benin",DZ:"Algeria",EA:"Ceuta, Melilla",EC:"Ecuador",EE:"Estonia",EF:"Union of Countries under the European Community Patent Convention",EG:"Egypt",EH:"Western Sahara",EM:"European Trademark Office",EP:"European Patent Organization",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",EU:"European Union",EV:"Eurasian Patent Organization",EW:"Estonia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FL:"Liechtenstein",FM:"Micronesia, Federated States of",FO:"Faroe Islands",FR:"France",FX:"France, Metropolitan",GA:"Gabon",GB:"United Kingdom",GC:"Patent Office of the Cooperation Council for the Arab States of the Gulf (GCC)",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",IB:"International Bureau of WIPO",IC:"Canary Islands",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JA:"Jamaica",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LF:"Libya Fezzan",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic of",ME:"Montenegro",MF:"Saint Martin (French part)",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia, the former Yugoslav Republic of",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NT:"Neutral Zone",NU:"Niue",NZ:"New Zealand",OA:"African Intellectual Property Organization",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PI:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine, State of",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RA:"Argentina",RB:"Bolivia; Botswana",RC:"China",RE:"Réunion",RH:"Haiti",RI:"Indonesia",RL:"Lebanon",RM:"Madagascar",RN:"Niger",RO:"Romania",RP:"Philippines",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SF:"Finland",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SU:"USSR",SV:"El Salvador",SX:"Sint Maarten (Dutch part)",SY:"Syrian Arab Republic",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TP:"East Timor",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan, Province of China",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",UK:"United Kingdom",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis and Futuna",WG:"Grenada",WL:"Saint Lucia",WO:"World Intellectual Property Organization",WS:"Samoa",WV:"Saint Vincent",YE:"Yemen",YT:"Mayotte",YU:"Yugoslavia",YV:"Venezuela",ZA:"South Africa",ZM:"Zambia",ZR:"Zaire",ZW:"Zimbabwe"}},t.chunks={chunk1:"\nThis is some {test} data! \n",chunk2:"\nThis is some more data\n{chunk1}\n",loading:"\n<b>Please wait, requesting data from iati-datastore...</b>\n",preparing:"\n<b>Please wait, preparing page...</b>\n",title:"IATI Country Tracker\n\n",view_act:'{ctnavxml}\n<div style="width:1040px; margin:0 auto; background-color:#fff; padding-top:110px;">\n{xml}\n</div>\n{footer}\n',view_main:'<style>{css}</style>\n{ctnav}\n<div style="width:1040px; margin:0 auto; background-color:#fff; padding-top:110px;">\n{cthead}\n{ctbox1}\n{ctbox1table}\n{ctbox1more}\n{ctboxes}\n{ctnear}\n{ctfooter}\n{ctfind}\n</div>\n\n',view_where:'<style>{css}</style>\n{ctnavxml}\n<div style="width:1040px; margin:0 auto; background-color:#fff; padding-top:110px;">\n	<div class="defcon">\n		{table_where}\n	</div>\n</div>\n{footer}\n',table_where:'<table class="where">\n{table_where_row_head}\n{table_where_rows}\n</table>\n',table_where_rows:"{table_where_row}\n",table_where_row_head:"<tr>\n<td>CRS</td>\n<td>Donor</td>\n<td>2012 transactions</td>\n<td>2013 transactions</td>\n<td>2014 transactions</td>\n<td>2014 budget</td>\n<td>2015 budget</td>\n</tr>\n",table_where_row:"<tr>\n<td>{crs}</td>\n<td>{funder}</td>\n<td>{t2012}</td>\n<td>{t2013}</td>\n<td>{t2014}</td>\n<td>{b2014}</td>\n<td>{b2015}</td></tr>\n\n\n\n",ctnav:'<div style="width:100%; background-color:#96CBFF; border-bottom:11px solid #BDD9FC; height:90px; position:fixed; z-index:1;">\n	<div style="width:960px; margin:0 auto; color:#fff; font-size:32px; padding-top:30px;">\n		<div style="display:inline-block; vertical-align:top; width:760px; height:30px;">\n			<a href="#ctrack_index"><img src="/art/ctlogo.png" alt="Country Tracker logo" width="350" height="30"/></a>\n		</div><div style="width:200px; display:inline-block; text-align:right;"><a href="/" class="navabout">Back to modules</a></div>\n	</div>\n</div>\n',ctnavxml:'<div style="width:100%; background-color:#96CBFF; border-bottom:11px solid #BDD9FC; height:90px; position:fixed; z-index:1;">\n	<div style="width:960px; margin:0 auto; color:#fff; font-size:32px; padding-top:30px;">\n		<div style="display:inline-block; vertical-align:top; width:760px; height:30px;">\n			<a href="#ctrack_index"><img src="/art/ctlogo.png" alt="Country Tracker logo" width="350" height="30"/></a>\n		</div><div style="width:200px; display:inline-block; text-align:right;"><a href="#ctrack_index" class="navabout">Back</a></div>\n	</div>\n</div>\n\n',divtop:'<div style="width:1040px; margin:0 auto; background-color:#fff;">',divbot:"</div>\n\n",cthead:'<div style="width:960px; margin:0 auto; color:#444; padding-top:40px;">\n<div style="display:inline-block; vertical-align:top; width:150px; height:90px;"><img src="{country_flag}" alt="{country_name} flag" width="150" height="90"/></div><div style="display:inline-block; vertical-align:top; width:620px; max-width:620px; padding-left:20px;">\n<div style="color:#8E9092; font-size:32px;">What\'s going on?</div><div style="font-size:64px; letter-spacing:5px; color:#444; line-height:1.0em; text-transform:uppercase;">{country_name}</div></div><a title="This denotes the current cut-off time for the current data population and will not be visible in the widget." style="display:inline-block; vertical-align:top; text-align:center; color:#ccc; font-size:32px;"><div style="font-size:20px;">TIME STAMP</div><div style="color:#bbb;">{today}</div></a>\n</div>\n',country_flag:"/art/bdflag.png\n",country_name:"BANGLADESH\n\n",ctbox1:'<div style="width:954px; margin:0 auto; color:#444; margin-top:40px; border:3px solid #D8D8D8;">\n<div style="width:634px; padding:30px; display:inline-block; vertical-align:top; border-right:3px solid #D8D8D8; max-height:240px;">{ctactive}</div><div style="display:inline-block; vertical-align:top; width:257px; max-height:240px;"><div style="padding:20px 10px 10px 30px; border-bottom:3px solid #D8D8D8; height:50%;">{ctactivities}</div><div style="padding:20px 10px 10px 30px; height:50%;">{ctpublishers}</div></div>\n</div>\n\n\n\n',ctactive:'<div style="padding-left:10px; font-size:32px; color:#A5BBC0;">Active Projects</div>\n<div style="font-size:128px; color:#444;">{active_projects}</div>\n\n\n\n',ctactivities:'<div style="padding-left:5px;font-size:20px; color:#A5BBC0;">Total Projects</div>\n<div style="font-size:56px; color:#444;">{total_projects}</div>\n\n\n\n',ctpublishers:'<div style="padding-left:5px;font-size:20px; color:#A5BBC0;">Publishers</div>\n<div style="font-size:56px; color:#444;">{numof_publishers}</div>\n\n\n\n',ctbox1table_data:'<tr><td>{num}.</td><td><div><a href="#ctrack_activity" activity="{aid}">{title}</a></div></td><td>{date}</td></tr>\n',ctbox1table:'<table class="def box1">\n<tr><td colspan="2" style="font-size:12px; color:#666; line-height:2.0em;">ENDING SOON</td><td style="font-size:12px; color:#666; line-height:2.0em;">END DATE</td></tr>\n{ctbox1table_datas}\n</table>\n',old:'<tr><td>1.</td><td><div>Paribarvittik Jeboboichittra Gram (PJG) Project</div></td><td>334461</td></tr>\n<tr><td>2.</td><td><div>Flood Resistant Shelter for South-West region in Bangladesh (FRESH)</div></td><td>1612124</td></tr>\n<tr><td>3.</td><td><div>Empowering Women RMG Workers Project Bangladesh</div></td><td>313887</td></tr>\n<tr><td>4.</td><td><div>Flood Resistant Shelter for South-West region in Bangladesh (FRESH)</div></td><td>1612124</td></tr>\n<tr><td>5.</td><td><div>Empowering Women RMG Workers Project Bangladesh</div></td><td>334461</td></tr>\n\n\n\n<tr><td>1.</td><td><div>Paribarvittik Jeboboichittra Gram (PJG) Project</div></td><td>334461</td></tr>\n<tr><td>2.</td><td><div>Flood Resistant Shelter for South-West region in Bangladesh (FRESH)</div></td><td>1612124</td></tr>\n<tr><td>3.</td><td><div>Empowering Women RMG Workers Project Bangladesh</div></td><td>313887</td></tr>\n<tr><td>4.</td><td><div>Flood Resistant Shelter for South-West region in Bangladesh (FRESH)</div></td><td>1612124</td></tr>\n<tr><td>5.</td><td><div>Empowering Women RMG Workers Project Bangladesh</div></td><td>334461</td></tr>\n\n\n\n<tr><td>1.</td><td><div>Paribarvittik Jeboboichittra Gram (PJG) Project</div><div style="padding-top:10px;"><img src="/art/logo1.png" alt="logo" width="215" height="49"/></div></td><td>2014-01-17</td></tr>\n<tr><td>2.</td><td><div>Flood Resistant Shelter for South-West region in Bangladesh (FRESH)</div><div style="padding-top:10px;"><img src="/art/logo2.png" alt="logo" width="215" height="49"/></div></td><td>2014-02-24</td></tr>\n<tr><td>3.</td><td><div>Empowering Women RMG Workers Project Bangladesh</div><div style="padding-top:10px;"><img src="/art/logo3.png" alt="logo" width="215" height="49"/></div></td><td>2014-06-07</td></tr>\n<tr><td>4.</td><td><div>Flood Resistant Shelter for South-West region in Bangladesh (FRESH)</div><div style="padding-top:10px;"><img src="/art/logo1.png" alt="logo" width="215" height="49"/></div></td><td>2014-11-13</td></tr>\n<tr><td>5.</td><td><div>Empowering Women RMG Workers Project Bangladesh</div><div style="padding-top:10px;"><img src="/art/logo2.png" alt="logo" width="215" height="49"/></div></td><td>2015-03-12</td></tr>\n\n\n\n\n<tr><td>1.</td><td><div>Project A</div></td><td>Pakistan</td><td>334461</td></tr>\n<tr><td>2.</td><td><div>Flood Resistant Shelter for South-West region in Bangladesh (FRESH)</div></td><td>Nepal</td><td>1612124</td></tr>\n<tr><td>3.</td><td><div>Project C</div></td><td>Russia</td><td>313887</td></tr>\n<tr><td>4.</td><td><div>Empowering Women RMG Workers Project Bangladesh</div></td><td>China</td><td>1612124</td></tr>\n<tr><td>5.</td><td><div>Project E</div></td><td>Korea</td><td>334461</td></tr>\n\n\n\n',ctbox1more:'<div style="width:960px; margin:0 auto;">\n<a href="#ctrack_ending_more" class="boxmore">LOAD MORE</a>\n</div>\n\n\n\n',ctboxes:'<div style="width:960px; margin:0 auto;">\n<div style="display:inline-block; vertical-align:top; margin-right:60px;">{ctbox2}{ctbox2table}{ctbox2more}</div><div style="display:inline-block; vertical-align:top;">{ctbox3}{ctbox3table}{ctbox3more}</div>\n</div>\n\n\n\n',ctbox2:'<div style="width:444px; margin:0 auto; color:#444; margin-top:40px; border:3px solid #D8D8D8;">\n<div style="width:270px; padding:20px; display:inline-block; vertical-align:top;">{ctend}</div><div style="display:inline-block; vertical-align:top; width:134px; padding-top:40px;"><img src="/art/graph.png" alt="Growth Graph" width="84" height="94"/></div>\n</div>\n\n\n\n',ctend:'<div style="padding-left:10px; font-size:20px; color:#B19090;">Ended Projects</div>\n<div style="font-size:86px; color:#444;">{finished_projects}</div>\n\n\n\n',ctbox2table_data:'<tr><td>{num}.</td><td><div><a href="#ctrack_activity" activity="{activity}">{title}</a></div></td><td>{date}</td></tr>\n',ctbox2table:'<table class="def box2">\n<tr><td colspan="2" style="font-size:12px; color:#666;">ENDING SOON</td><td style="font-size:12px; color:#666;">END DATE</td></tr>\n{ctbox2table_datas}\n</table>\n',ctbox2more:'<div style="width:450px; margin:0 auto;">\n<a href="#ctrack_finished_more" class="boxmore">LOAD MORE</a>\n</div>\n',ctbox3more:'<div style="width:450px; margin:0 auto;">\n<a href="#ctrack_starting_more" class="boxmore">LOAD MORE</a>\n</div>\n\n\n',ctbox3:'<div style="width:444px; margin:0 auto; color:#444; margin-top:40px; border:3px solid #D8D8D8;">\n<div style="width:270px; padding:20px; display:inline-block; vertical-align:top;">{ctplan}</div><div style="display:inline-block; vertical-align:top; width:134px; padding-top:40px;"><img src="/art/graph.png" alt="Growth Graph" width="84" height="94"/></div>\n</div>\n\n\n\n',ctplan:'<div style="padding-left:10px; font-size:20px; color:#96B67C;">Planned Projects</div>\n<div style="font-size:86px; color:#444;">{planned_projects}</div>\n\n\n',ctbox3table_data:'<tr><td>{num}.</td><td><div><a href="#ctrack_activity" activity="{activity}">{title}</a></div><div style="padding-top:10px;"><img src="/art/logo1.png" alt="logo" width="215" height="49"/></div></td><td>{date}</td></tr>\n',ctbox3table:'<table class="def box3">\n<tr><td colspan="2" style="font-size:12px; color:#666;">STARTING SOON</td><td style="font-size:12px; color:#666;">START DATE</td></tr>\n{ctbox3table_datas}\n</table>\n',ctnear:'<div style="width:960px; margin:0 auto; margin-top:60px; background-color:#E5EFFA; padding-bottom:40px;">{ctnearhead}{ctneartable}{ctnearmore}</div>\n\n\n\n',ctnearhead:'<div style="width:880px; padding:30px 40px 0 40px; margin:0 auto;">\n<div style="border-bottom:3px solid #CDE2E7; padding-bottom:20px;">\n<div style="display:inline-block; font-size:38px; color:#3C98AF; width:635px;"><div style="display:inline-block; padding-right:10px; width:30px;"><img src="/art/compass.png" alt="compass icon" width="30" height="30" /></div>What\'s going on nearby?</div><a href="#" style="display:inline-block; font-size:20px; text-align:right; color:#999;">Change radius of 600 miles</a>\n</div>\n</div>\n\n\n\n',ctneartable_data:'<tr><td>{num}.</td><td><div><a href="#ctrack_activity" activity="{activity}">{title}</a></div></td><td>{country}</td><td>{date}</td></tr>\n',ctneartable:'<table class="def near">\n<tr><td colspan="2" style=" font-size:12px; color:#999; line-height:2.3em;">ACTIVE PROJECTS ENDING SOON</td><td style="font-size:12px; color:#999; line-height:2.3em;">LOCATION &#8743; &#8744;</td><td style="font-size:12px; color:#999; line-height:2.3em;">END DATE</td></tr>\n{ctneartable_datas}\n</table>\n',ctnearmore:'<div style="width:880px; margin:0 auto; padding:0 40px;">\n<a href="#ctrack_near_more" class="nearmore">LOAD MORE</a>\n</div>\n\n\n\n',ctfooter:'<div style="width:960px; margin:0 auto; margin-top:40px;">{ctfootboxes}</div>\n\n\n\n',ctfootboxes:'<div style="display:inline-block; vertical-align:top; width:370px; margin:0 auto;">{ctabout}</div><div style="display:inline-block; vertical-align:top; width:330px; margin:0 auto;">{ctlogo}</div><div style="display:inline-block; vertical-align:top; width:260px; margin:0 auto;">{ctembed}</div>\n\n\n\n',ctabout:'<a name="about"></a>\n<div style="margin:0 auto; line-height:1.35em; word-spacing:0.05em; font-size:18px; color:#777;">Country Tracker aims to be a simple user interface to search and browse all IATI data relating to a specific country that can be easily hosted by <span class="bold">anyone</span>, <span class="bold ob">anywhere</span>.</div>\n\n\n\n',ctlogo:'<a href="http://iatistandard.org/" target="_blank" style="width:270; margin:0 auto; padding:0 30px;"><img src="/art/iati-logo.269.png" alt="IATI logo" width="269" height="70"/></a>\n\n\n\n',ctembed:'<div style="width:260px; margin:0 auto; font-size:16px; color:#444; padding-bottom:10px;">Embed this on your website!</div>\n<div style="width:198px; height:70px; margin:0 auto; border:1px solid #444; padding:20px 30px; color:#ccc; font-size:14px; resize:both;\noverflow:auto; background-color:rgb(255, 255, 255);">HTML embed code will be placed here for copy and pasting on to your website.</div>\n\n\n\n',ctfind:'<div class="footer">\n<div style="width:960px; margin:0 auto;">\n<div style="display:inline-block; vertical-align:top; width:520px; font-size:28px; padding-right:20px;">Find out what\'s going on where you live</div><div style="display:inline-block; vertical-align:top; width:340px; height:35px; background-color:#F7EA61; border-bottom:3px solid #C7B740; font-size:28px; color:#fff;">eg. United Kingdom</div><a href=# style="display:inline-block; vertical-align:top; width:35px; height:35px; padding-left:35px;"><img src="/art/find.png" alt="Find" width="35" height="35" /></a>\n</div>\n</div>\n\n',footer:'<div class="footwrap">\n	<div class="footcon">\n		<a href="http://www.aidtransparency.net/" target="_blank" title="International Aid Transparency Initiative (IATI)" class="copyright">© 2014 International Aid Transparency Initiative (IATI)</span>\n	</div>\n</div>\n\n\n',css:"html				{background:url('{background_image}') no-repeat bottom fixed; background-size:cover; overflow:hidden; overflow-y: scroll;}\ntable.where			{width:960px; border-collapse:collapse;}\ntable.where td		{padding:10px 20px; vertical-align:top; border-bottom:1px solid #ccc;}\n"};var e=e||t;e.plate={},e.plate.preps={},e.plate.prepare_cache=function(t){if(e.plate.preps[t])return e.plate.preps[t];var a=e.plate.prepare(t);return e.plate.preps[t]=a,a},e.plate.prepare=function(t){if(!t)return void 0;var a=t.split("{"),e=[];e.push(a[0]);for(var i=1;i<a.length;i++){var n=a[i].split("}");if(n.length>=2){e.push("{"),e.push(n[0]),e.push(n[1]);for(var o=2;o<n.length;o++)e.push("}"+n[2])}else e.push("{"+a[i])}return e},e.plate.lookup=function(t,a){return void 0!=a[t]?a[t]:void 0!=e.args.chunks[t]?e.args.chunks[t]:void 0!=e.chunks[t]?e.chunks[t]:"{"+t+"}"},e.plate.chunk=function(t,a){return e.plate.replace(e.chunks[t],a)},e.plate.recurse_chunk=function(t,a){return e.plate.recurse_replace(e.chunks[t],a)},e.plate.chunks=function(t,a){return e.plate.replaces(e.chunks[t],a)},e.plate.replace=function(t,a){var i=e.plate.prepare(t);if(!i)return t;for(var n=[],o=0;o<i.length;o++){var r=i[o];"{"==r?(o++,r=i[o],n.push(e.plate.lookup(r,a))):n.push(r)}return n.join("")},e.plate.recurse_replace=function(t,a){for(var i="",n=0;t!=i&&(i=t,t=e.plate.replace(t,a),n++,!(n>100)););return t},e.plate.replaces=function(t,a){for(var i=[],n=0;n<a.length;n++)i.push(e.plate.replace(t,a[n]));return i.join("")};var e=e||t;e.setup_html=function(t){e.args=t,e.div={},e.div.master=$(e.args.master),e.div.main=$('<div class="ctrack_main"></div>'),e.div.master.empty(),e.div.master.append(e.div.main),e.div.main.html(e.plate.chunk("loading",{}));var a={},i=function(t,i){return a[t]=void 0!=i?i:e.plate.recurse_chunk(t,a),a[t]};e.htmldata=a,e.htmlchunk=i,e.htmlchunk("ctbox1table_datas","<tr><td>Loading...</td></tr>"),e.htmlchunk("active_projects",0),e.htmlchunk("ctbox2table_datas","<tr><td>Loading...</td></tr>"),e.htmlchunk("finished_projects",0),e.htmlchunk("ctbox3table_datas","<tr><td>Loading...</td></tr>"),e.htmlchunk("planned_projects",0),e.htmlchunk("ctneartable_datas","<tr><td>Loading...</td></tr>"),e.htmlchunk("numof_publishers",0),e.htmlchunk("total_projects",0),e.htmlchunk("today",e.get_today()),e.hash={},e.hash_split=function(t,a){"#"==t[0]&&(t=t.substring(1)),a=a||e.hash;var i=t.split("&");return i.forEach(function(t){var e=t.split("=");"string"==typeof e[0]&&"string"==typeof e[1]&&(a[e[0]]=e[1])}),a},e.view_done={},e.prepare_view=function(t){e.view_done[t]||(e.view_done[t]=!0,"main"==t?(e.fetch_endingsoon({limit:5}),e.fetch_finished({limit:5}),e.fetch_planned({limit:5}),e.fetch_near({limit:5}),e.fetch_stats({})):"where"==t&&e.fetch_where())},e.hash={view:"main"},e.update_hash=function(t){for(var a in t)e.hash[a]=t[a];e.last_hash="",e.display_hash(),e.check_hash()},e.display_hash=function(){var t=[];for(var a in e.hash)t.push(a+"="+e.hash[a]);document.location.hash=t.join("&")},e.last_hash="",e.last_view="",e.check_hash=function(){var t=document.location.hash;if(t!=e.last_hash){e.last_hash=t;var a=e.hash_split(t);e.div.main.html(e.htmlchunk("view_"+a.view)),iati_activity_clean_and_sort(),e.last_view!=a.view&&(e.last_view=a.view,$("html, body").bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(){$("html, body").stop()}),$("html, body").animate({scrollTop:0},"slow",function(){$("html, body").unbind("scroll mousedown DOMMouseScroll mousewheel keyup")}),e.prepare_view(a.view))}},$(window).bind("hashchange",function(){e.check_hash()}),e.check_hash(),e.display_hash(),$(document).on("click","a",function(t){var a=$(this).prop("href");if(a&&(a=a.split("#"),a[1])){a=a[1];var i=a.split("_");if(console.log(a),"ctrack"==i[0])if(t.preventDefault(),"index"==i[1])e.update_hash({view:"main"});else if("activity"==i[1]){var a=$(this).attr("activity");console.log(a),e.fetch_activity({activity:a})}else if("more"==i[2])switch(i[1]){case"ending":e.fetch_endingsoon({limit:20});break;case"finished":e.fetch_finished({limit:20});break;case"starting":e.fetch_planned({limit:20});break;case"near":e.fetch_near({limit:20})}}})};var e=e||t;e.iati={},e.iati.totext=function(t){return"string"==typeof t?t:"object"==typeof t?e.iati.totext(t.text):""},e.iati.fill_text=function(t,a,i){for(var n=0;n<i.length;n++)a[i[n]]=e.iati.totext(t[i[n]])},e.iati.array_status=["Pipeline","Implementation","Completion","Post","Cancelled"],e.iati.lookup_status=function(t){return e.iati.array_status[t]||"N/A"},e.iati.clean_activity=function(t){var a={};return t["iati-activity"]&&(t=t["iati-activity"]),e.iati.fill_text(t,a,["title","description","reporting-org"]),a["status-code"]=Number(t["activity-status"]&&t["activity-status"].code||-1),a.status=e.iati.lookup_status(a["status-code"]),a["start-date"]=t["start-actual"]||t["start-planned"],a["end-date"]=t["end-actual"]||t["end-planned"],a.id=t["iati-identifier"],a},e.iati.clean_activities=function(t){for(var a=[],i=0;i<t.length;i++)a[i]=e.iati.clean_activity(t[i]);
return a};var e=e||t;e.get_today=function(){var t=new Date,a=("0"+t.getDate()).slice(-2),e=("0"+(t.getMonth()+1)).slice(-2),i=t.getFullYear()+"-"+e+"-"+a;return i},e.get_nday=function(t){var a=new Date(1e3*t*60*60*24),e=("0"+a.getDate()).slice(-2),i=("0"+(a.getMonth()+1)).slice(-2),n=a.getFullYear()+"-"+i+"-"+e;return n},e.fetch=function(t,a){$.ajax({dataType:"json",url:e.args.dstore+"/q?callback=?",data:t,success:a})},e.fetch_endingsoon=function(t){t=t||{};var a=e.get_today(),n={from:"activities,country",limit:t.limit||5,orderby:"day_end",status_code:"2",day_end_gt:0,country_code:t.country||e.args.country},o=t.callback||function(t){console.log("fetch endingsoon : "+a),console.log(t);var n=[];for(i=0;i<t.rows.length;i++){var o=t.rows[i];o.num=i+1,o.date=e.get_nday(o.day_end),o.activity=o.aid,n.push(e.plate.chunk("ctbox1table_data",o))}e.htmlchunk("ctbox1table_datas",n.join("")),e.update_hash({view:"main"})};e.fetch(n,o)},e.fetch_finished=function(t){t=t||{};var a=e.get_today(),n={from:"activities,country",limit:t.limit||5,orderby:"day_end-",status_code:"3|4",country_code:t.country||e.args.country},o=t.callback||function(t){console.log("fetch finshed : "+a),console.log(t);var n=[];for(i=0;i<t.rows.length;i++){var o=t.rows[i];o.num=i+1,o.date=e.get_nday(o.day_end),o.activity=o.aid,n.push(e.plate.chunk("ctbox2table_data",o))}e.htmlchunk("ctbox2table_datas",n.join("")),e.update_hash({view:"main"})};e.fetch(n,o)},e.fetch_planned=function(t){t=t||{};var a=e.get_today(),n={from:"activities,country",limit:t.limit||5,orderby:"day_start",status_code:1,country_code:t.country||e.args.country},o=t.callback||function(t){console.log("fetch planned : "+a),console.log(t);var n=[];for(i=0;i<t.rows.length;i++){var o=t.rows[i];o.num=i+1,o.date=e.get_nday(o.day_start),o.activity=o.aid,n.push(e.plate.chunk("ctbox3table_data",o))}e.htmlchunk("ctbox3table_datas",n.join("")),e.update_hash({view:"main"})};e.fetch(n,o)},e.fetch_stats=function(t){t=t||{};var a=(e.get_today(),function(){var a={from:"activities,country",select:"stats",country_code:t.country||e.args.country},i=t.callback||function(t){console.log("activity stats1"),console.log(t),e.htmlchunk("total_projects",t.rows[0]["COUNT(*)"]),e.htmlchunk("numof_publishers",t.rows[0]["COUNT(DISTINCT reporting_org)"]),e.update_hash({view:"main"})};e.fetch(a,i)});a();var n=function(){var a={from:"activities,country",select:"stats",groupby:"status_code",country_code:t.country||e.args.country},n=t.callback||function(t){console.log("activity stats2"),console.log(t);var a={};for(i=0;i<t.rows.length;i++){var n=t.rows[i],o=n["MAX(status_code)"],r=n["COUNT(*)"];a[o]=r}e.htmlchunk("active_projects",a[2]||0),e.htmlchunk("finished_projects",(a[3]||0)+(a[4]||0)),e.htmlchunk("planned_projects",a[1]||0),e.update_hash({view:"main"})};e.fetch(a,n)};n()},e.fetch_activity=function(t){var a={aid:t.activity,select:"xml"},i=t.callback||function(t){e.div.main.html(e.plate.chunk("preparing",{})),console.log(t),e.htmlchunk("xml",t.rows[0].xml),e.update_hash({view:"act"})};e.fetch(a,i)},e.fetch_near=function(t){t=t||{};var a={from:"activities,country",limit:t.limit||5,orderby:"day_end",status_code:"2",day_end_gt:0,country_code_nteq:t.country||e.args.country},n=t.callback||function(t){console.log("fetch endingsoon "),console.log(t);var a=[];for(i=0;i<t.rows.length;i++){var n=t.rows[i];n.num=i+1,n.date=e.get_nday(n.day_end),n.country=e.codes.country[n.country_code],n.activity=n.aid,a.push(e.plate.chunk("ctneartable_data",n))}e.htmlchunk("ctneartable_datas",a.join("")),e.update_hash({view:"main"})};e.fetch(a,n)},e.where_data=[],e.fetch_where=function(t){var a=function(t){return t.replace(/(^|[^\w.])(\d{4,})/g,function(t,a,e){return a+e.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")})};t=t||{},e.where_data={};var i=function(){var t=[],a=[];for(var i in e.where_data)a.push(e.where_data[i]);a.sort(function(t,a){return a.order-t.order}),a.forEach(function(a){a.t2012||(a.t2012=""),a.t2013||(a.t2013=""),a.t2014||(a.t2014=""),a.b2014||(a.b2014=""),a.b2015||(a.b2015=""),t.push(e.plate.chunk("table_where_row",a))}),e.htmlchunk("table_where_rows",t.join("")),e.update_hash({view:"where"})},n=function(t){var a=e.where_data[t.funder];a||(a={},e.where_data[t.funder]=a);for(var i in t)a[i]=t[i]},o=[2012,2013,2014];o.forEach(function(o){var r={from:"transactions,country",limit:t.limit||100,select:"funder,sum_of_percent_of_usd",funder_not_null:"",groupby:"funder",orderby:"funder",day_gteq:o+"-01-01",day_lt:parseInt(o)+1+"-01-01",country_code:t.country||e.args.country},d=function(t){console.log("fetch transactions where "+o),console.log(t);for(var r=0;r<t.rows.length;r++){var d=t.rows[r],l={};l.funder=d.funder,l["t"+o]=a(""+Math.floor(d.sum_of_percent_of_usd)),2012==o&&(l.crs=a(""+Math.floor(d.sum_of_percent_of_usd)),l.order=d.sum_of_percent_of_usd),n(l)}console.log(e.where_data),i()};e.fetch(r,d)});var o=[2014,2015];o.forEach(function(o){var r={from:"budgets,country",limit:t.limit||100,select:"funder,sum_of_percent_of_usd",funder_not_null:"",groupby:"funder",orderby:"funder",day_start_gteq:o+"-01-01",day_start_lt:parseInt(o)+1+"-01-01",day_length_lt:370,country_code:t.country||e.args.country},d=function(t){console.log("fetch budget where "+o),console.log(t);for(var r=0;r<t.rows.length;r++){var d=t.rows[r],l={};l.funder=d.funder,l["b"+o]=a(""+Math.floor(d.sum_of_percent_of_usd)),n(l)}console.log(e.where_data),i()};e.fetch(r,d)})}}({},function(){return this}());
//# sourceMappingURL=ctrack.map